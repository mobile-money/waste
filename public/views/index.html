<div class="row">
    <h1 class="text-center">Waste planning</h1>
    <div class="col-md-9">
        <table class="table table-hover wastes">
            <thead>
                <tr>
                    <th ng-repeat="header in headers">
                        <a ng-if="header.sort" href ng-click="setSort(header.sort)">
                            <span>{{header.name}}</span>
                            <i ng-if="sort == header.sort || sort == '-' + header.sort"
                               ng-class="{'glyphicon-arrow-down': sort == header.sort,
                                          'glyphicon-arrow-up': sort == '-' + header.sort}"
                               class="glyphicon"></i>
                        </a>
                        <span ng-if="!header.sort">{{header.name}}</span>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="waste in wastes | orderBy:sort">
                    <td style="position: relative;">
                        <i class="glyphicon glyphicon-pencil edit-waste"></i>
                        <span>{{waste.title}}</span>
                    </td>
                    <td>{{waste.dateAdded | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td>{{waste.cost}}</td>
                    <td>{{waste.actions}}</td>
                    <td class="pr-{{waste.priority}}">{{waste.priority}}</td>
                    <td class="u-{{waste.urgency}}">{{waste.urgency}}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <form ng-submit="addWaste()" class="form col-md-3 new-waste" name="addWasteForm">
        <h2>New waste</h2>
        <div class="form-group">
            <input class="form-control" type="text" ng-model="newWaste.title" placeholder="title" required />
        </div>
        <div class="form-group">
            <input class="form-control" type="text" ng-model="newWaste.cost" placeholder="cost" />
        </div>

        <div class="radio form-group text-right">
            <span class="pull-left">priority</span>
            <label for="pr-high" class="text-danger">
                <input type="radio" ng-model="newWaste.priority" value="high" id="pr-high" />
                high
            </label>
            <label for="pr-medium" class="text-warning">
                <input type="radio" ng-model="newWaste.priority" value="medium" id="pr-medium"/>
                medium
            </label>
            <label for="pr-low" class="text-info">
                <input type="radio" ng-model="newWaste.priority" value="low" id="pr-low" />
                low
            </label>
        </div>

        <div class="radio form-group text-right">
            <span class="pull-left">urgency</span>
            <label for="u-tomorrow" class="text-danger">
                <input type="radio" ng-model="newWaste.urgency" value="tomorrow" id="u-tomorrow" />
                tomorrow
            </label>
            <label for="u-week" class="text-warning">
                <input type="radio" ng-model="newWaste.urgency" value="week" id="u-week"/>
                this week
            </label>
            <label for="u-month" class="text-info">
                <input type="radio" ng-model="newWaste.urgency" value="month" id="u-month" />
                this month
            </label>
            <label for="u-later">
                <input type="radio" ng-model="newWaste.urgency" value="later" id="u-later" />
                later
            </label>
        </div>

        <div class="form-group text-right">
            <button class="btn btn-primary" type="submit" ng-disabled="addWasteForm.$invalid">Add</button>
        </div>
    </form>
</div>